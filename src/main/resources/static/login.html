<!DOCTYPE html>
<!--suppress HtmlFormInputWithoutLabel -->
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Login</title>
        <script src="helper.js"></script>
        <script>
            function login() {
                const inputs = document.querySelectorAll('input'),
                    email = inputs[0].value,
                    password = inputs[1].value,
                    credentials = email + ':' + password

                if (email.indexOf(':') !== -1 || password.indexOf(':') !== -1) {
                    alert('Email and password cannot contain ":" symbol')
                    return
                }

                if (email.indexOf('=') !== -1 || password.indexOf('=') !== -1) {
                    alert('Email and password cannot contain "=" symbol')
                    return
                }

                checkCredentials(credentials, _ => {
                    document.cookie = 'credentials=' + credentials
                    redir('/')
                }, () => alert('Wrong credentials'))
            }
        </script>
    </head>
    <body>
        <input type="email" placeholder="email">
        <input type="password" placeholder="password">
        <button onclick="login()">Login</button>
    </body>
</html>